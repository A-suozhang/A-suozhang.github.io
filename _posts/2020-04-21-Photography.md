---
layout:     post                    # 使用的布局（不需要改）
title:      Shot Something.       # 标题 
subtitle:   拍点东西.    #副标题
date:       2020-05-09          # 时间
author:     tianchen                      # 作者
header-img: img/diffusion/disco-3.png   #这篇文章标题背景图片  
catalog: true                       # 是否归档
tags:                               #标签
     - 杂项
---

> 了解一些背景知识，权且聊以自慰

# 曝光三要素

* 光圈(Aperture) 大小用F值指代，其与光圈半径呈反比(大光圈越难做)
    * 常见配置(1.4/2.0/2.8/4.0/.../F32/F45/F64） 最小光圈到F32
    * 一般大小要用到F15左右
    * F值 = 焦距/光圈直径 
        * 进光面积 正比 光圈半径^2 (F2-f1.4(\sqrt{2})是两倍的进光量)
    * 作用：**控制曝光时通过镜头的单位面积大小**
        * 水龙头比喻： 水龙头的数量(流速)大小
        * 曝光量： 水的体积 = 速度(光圈)*时间(快门时间)
    * *定性Example*
        * F越大，半径小，进光面积小，进光量少，光线越暗
        * 大光圈，焦平面小，景深浅(背景模糊)
        * 大光圈对焦困难，光圈缩小来对焦
* 快门速度:
    * 1/2...1/32...1/8000 - 周期
    * 快的快门速度用在对高速物体的抓拍
    * 物理意义是采样率
        * 一般不能低于帧率，否则就重庆森林
    * 很多人说1/50
    * 光现不充足的时候，可以通过增加快门速度来避免提高ISO影响画质
        * 安全快门(镜头焦段两倍的倒数 50mm镜头 - 1/1^10(2))=1/100s ~ 1/500 s
        * 有防抖的话安全快门可以更慢
    * 较慢的快门速度(进光时间长) - 可以带来动态模糊的效果
* 感光度ISO
    * CMOS感光元件对于进入的光线的敏感程度(增益A)
        * 由于是增益，过大可能会带来噪点的增大
    * 用法Example当快门时间不能再降低(变慢)的时候，为了保证曝光量足够，只有提高感光度
    * 1600-3200可用(50~102400)
* 白平衡 White-Balance
    * 调整颜色倾向和色调
        * 对RAW来说，即使设置错误，也可以修正
    * 自动判别出画面中哪里应该是灰色，并且以此为颜色基准
    * 我们可以自己调整来“欺骗”相机，以获得我们想要的真实颜色(比如拍夕阳 - 白平衡设置为阴影)

---

* 虚化
    * 大光圈
    * 长焦段(镜头性质)： Money is Power
    * 近： 主体接近相机，原理背景
* 景深:
    * 在大光圈下只有一定范围内的物体是清晰的,而在这以外的区域就会是模糊的
        * 比如后面有小灯珠,大光圈下就会虚化为大光斑 (光斑的大小就代表着虚化强弱)
        * *光斑的形状是由光圈的形状所决定的*
    * 深浅景深表示的是景深区域的大小
        * 严格来说背景虚化不合理,因为很近的前景其实也在被虚化
    * 虚化程度(大光圈)会给对焦带来难度
* 动态模糊
    * 一般出现在快门速度慢的时候
    * 光线不足的时候Auto会自动将快门速度放慢,照片容易模糊
        * 是因为光线不够,ISO和光圈都拉到最大了,但是还是不足,只能放大快门速度来满足进光量
        * 而慢快门就会导致抖动会让画面模糊(有理有据)
    * 慢速快门就可以拍出光流效果
        * 因为怕抖,所以三脚架
* 拍摄模式
    * AUTO(场景智能模式) - 类似示波器上的Auto，可以救命，但是没用
        * 无法控制对焦和曝光，带上了镣铐
        * 可配置驱动模式(类似单排连拍等功能性模式)
    * P档 - 程序曝光 （Program）
        * 可控制感光度ISO，感光度过高会发白，但是不足可能会欠曝
        * 可以控制快门时间或者是光圈,但是相机会自动帮你调节另外一个来获得平衡
            * 一定程度上相当于A+S
        * 曝光补偿：白+黑- (白色区域大的时候，会让白色显得发灰，调整补偿 - 比如拍雪)
    * ------ 半自动档 -------(一下两个感光度白平衡等都由我们自己设置)
        * 也需要进行类似的曝光补偿
    * 光圈优先 A档 (Aperture)
        * **适合静止主体**
        * 给出光圈信息，程序计算合适的快门时间
        * 一般不会设置的快门速度不够，但是环境光如果不足的话，ISO低的快门速度低，话容易模糊(但是可以通过设置曝光补偿来一定程度下缓解这个问题)
    * 快门优先 S/T档  (Shutter/Time)
        * **运动**(环境光变化大)
        * Vice Versa，输入快门时间，计算出需要的光圈大小
        * 可能会出现我们的ISO设置过低导致最大光圈也不能满足足够曝光，需要拉大
    * ------ 手动 ----------
    * 手动曝光 M档 - Manual
        * 需要get的是在多大的光圈下需要设置多大的快门速度
        * 涉及测光 -- 测光表
            * 确定好光圈/快门速度/感光度之后，这个标尺就会根据**对焦位置**给出值 ```f(Focal_length,ISO=,shutter=,aperture=))```
                * 我们调整光圈和感光度，让他归零 ```f=0```
        * 不存在曝光补偿，所以遇到相对的情况，(我们需要拍摄过曝/欠曝时)我们应该控制测光表不到0
            * 因而测光表，代表着**曝光程度**
            * 过曝 - (+)
        * 测光模式  
            * *评价 - 整体参考
            * 局部 - 类似点，参考范围稍大一些
            * *点 - 人像写生，参考范围小，直接对着
            * 中央重点平均 - 整体参考，更倾向中心
            * *中间的面积大，测光参考的画面就多*
* 动态范围
    * 用来表示对比度
    * 较低的动态范围用在阴天室内等，较大的用在光线好的
    * 过大值可能会带来斑点
    * 无raw提动态范围其实意义不大
    * 是否和色深有着直接的关系?)
    * 相关的
        * 景物亮度范围 - 客观世界的亮度范围(人眼所能感官到的)
        * 相机亮度范围 - 感光元件的动态范围(相机的硬件属性本身所clamp的一个range)
            * 本身不可以扩大，但是可以通过改变曝光来做移动
        * (曝光)宽容度
            * 感光元件在不同的光照条件下，还原光线相对的能力
            * 测试方式可以先欠曝再提亮再对比
    * 对如何调整iso由指导性意义
        * 如果想要保留暗部信息，就欠曝拉亮
        * 可以通过关注直方图，画面的最亮大概到直方图上
            * 也就是说拍摄时候的直方图的范围其实是RAW的范围并不是jpeg压缩之后的范围
            * 即使没有像素溢出直方图照片看上去仍然可能是过曝的


* 对焦模式
    * 自动对焦
        * 单次(静止对象)
            * 半按快门可以平移进行二次构图，焦点不会改变
        * 连续
            * 半按快门的时候对焦点会跟踪(一般配合连拍)
    * 对焦点模式
        * 单点自动
        * 区域自动
        * 人脸追踪对焦
    * “跑焦” - 光圈过大

* 驱动模式(最浅显的)
    * 单张/连拍/倒计时(用于防止手指按动快门时候的机械震动)

* 景深
	* 大光圈可以轻松产生虚化效果
	* 为何手机不能轻易获得有效的虚化
		* 经过公式推算，其效果与镜头的直径直接相关
		* 注意和底片的大小无关！

* 焦距
    * 广角 35mm以下 - 全景(主要表现环境)
        * 能够加强纵深感，拉大前景和后景的距离
        * 边缘畸变明显(24MG),可以利用畸变来拓展边缘
    * 中焦 人眼大概等效于50mm的镜头 - 较为接地气
        * 可视有效范围约40度，广角能够达到76度
    * 长焦 85mm以上 - 用来拍摄细节和特写
        * 抖动会很明显
    * (散弹枪和狙击枪) - (扩张和收缩空间)

* **手机的畸变**
    * 画面中心会收缩,边缘会放大
    * 拍人脸尽量只在3x3的中心块里
    * 想要拉伸,对角线效果是最好的

---

* 构图(偏理念)
    * 网格线拉满)
    * 原则：
        1. 主体人物在竖线，关键点(眼睛)放在交点
        2. 场景分割面，置于1/3水平线
        3. 画面中水平垂直的参考

# 参数调节

* 遵从 快门-光圈-ISO的顺序
    1. 快门速度很关键，会直接决定你会不会拍糊
        * 静物-快门一般在1/90
    2. 调节光圈定虚化
        * F789左右相对画质比较好
        * 光圈过大会使成像变差
    3. 调节感光度(控制曝光)
        * 一般在100-800之间
        * 再网上噪点就起来了



## Example

* 夜景星芒/光斑
    * *所谓星芒，就是灯光呈多个方向绽开的效果*
    * 一定要有三角架，不然抖死哦
    * F-18，ISO100左右，关闭镜头的防抖
        * 使用小光圈的时候，不要用F20/22这种极端小值，会影响画质
        * 当这个时候，可能甚至30s的快门时间都不能支持正常曝光了，所以要实当提高ISO
    * ---光圈大小越大，星芒就越不明显，与之对应，会出现较为明显的光斑---
    * 光圈拉到最大，手动对焦，调整对焦环

* 黄昏剪影
    * ISO 100，F10小光圈
    * 点测光，选择背景光作为测光点(不要离拍摄物体过远)

--- 

# 调色

* 调色的两大要素 - 颜色 & 影调

---

* RGB与CMY
    * R与C互补 - (调节色温)
    * G与M互补 - (色调)

* **从颜色互补关系理解调色**

* 对于曲线/直方图
    * 单通道的曲线(比如R)，y=x直线的上半部分表示的是红色，下半部分表示的则是其对比色青色
    * 想减少某一成分，直接挪动定点，亮部和暗部同时减少红色
    * 对于曲线还有个小tips就是最好把曲线的两个端点移动到实际图片的动态范围的位置来避免调节中所产生的误差(比如在很高的地方调整曲线其实并没用什么效果，因为明度这么高的地方根本就没用颜色)
    * Example天空更为通透
        * C青色 - 和品红M的比例调节好
        * 减少黄色对蓝色的干扰
        * ![](https://github.com/A-suozhang/MyPicBed/raw/master//img/20200429171702.png)
            * CM接近，Y互补
            * 蓝黄混合是灰色
        * 对于天空(特别是晚霞，不要把清晰度拉太高，不然天空的分界会很生硬)
    * 对于去雾(或者是隔了一层灰玻璃)
        * 清晰度可以放心的拉的比较高
        * 调节自然饱和度让一些看不到的颜色显现出来
        * 定义黑场和白场(黑色与白色色调)
            * 大量减白
        * 阴影应该拉低(高的话会出现一种灰蒙蒙的感觉) 

---

* 自然饱和度 - 饱和度
    * 增加自然饱和度只会把饱和度低的色彩拉大
        * 可以看作对原本线性的饱和度调整加上了一个Sigmoid的矫正
* 曲线 - 曲线矫正
    * 可以看作对原本线性函数的一个矫正
    * 是从最暗到最亮像素的一个调整
    * **所以其核心是动亮度？**
    * 操作方法
        * 一般都使用S型的矫正以增加细节
            * 我理解这个的原因是通过S型矫正将像素的分布在动态范围内变得相对均匀，更为平衡
        * 奶油曲线(有种灰蒙蒙的感觉)
            * 最高点拉底，最低点拉高(本质上是对极端值做了一个削减，相对变得更加不通透)
            * 将最左下角拉高以获得仿胶片褪色的感觉
        * 高反差模式
            * 
* HSL分别表示 1.hue(色调) 2.saturation(饱和度) 3.Lightness(明/亮度)

## 调色Example

> 一定要记住效果，而不要记参数值(不要套预设)


* Ins青红Style


* Ins橙色Sytle
    * 有明显颜色对比
    1. 色温，色调，自然饱和度+
    2. HSL: 将橙色之外的饱和度全部拉低，对橙色有可能对明度进行增加或者降低
        * 目的是去色，留橙
    3. 色调调节
        * 阴影加青色
        * 高光加黄色
    4. 曲线调节(微调)
        * S型+底部拉高

* 暗色人像
    * 最好在暗色环境下进行拍摄
    * 人物皮肤和唇色涉及红橙，两者饱和度不应该太低
    1. 光效(主要影响氛围)
        * 曝光降低
        * -高光 +阴影 突出细节
        * 少量减少白色色调 大量减少黑色色调 (增加对比度，将影调降低压实) 
    2. 曲线，经典
    3. HSL - 除了红橙其他饱和度拉底(如果画面中还有需要保留的元素 - 比如蓝色衣服，可以实当保持)
        * 红橙色的明度提升
    4. 阴影加上青色，加入暗角

* 日系Scenary
    * 晴天，光线足
    1. 光效
        * 提升曝光到直方图上界稍微突破上界(稍微过曝)
        * 小幅度-高光 大幅度+阴影
    2. 曲线
        * 提升左端(去除死黑)
        * R - 稍微下压一点
    3. 色彩
        * 稍微降低自然饱和度
    4. HSL
        * 绿色色相偏青，饱和度-，明度增加
        * 蓝色偏青，饱和度+，明度+
    5. 质感
        * 降低清晰度(加上模糊感)
* 日系人像
    * 降低对比度，降低高光提升阴影
    * 亮度提高
    * 提一些清晰度
    * 肤色-降低橙色饱和度，提升明亮度
        * 红色增加饱和，降低明亮，修嘴唇
    * 绿色，增加明度，降低饱和度，色相偏墨绿
    * 色调在高光中加入冷色

* 滨田英明
    * 人像为主，注意神态，画面内元素少，光源非常好(甚至有时候整个面部都很亮)
    1. 预先减少光，保留暗部细节，首先让细节回归
        * 对比/曝光/阴影/白色都调小
    2. 降低纹理和清晰度(增加柔和感)
    3. 复古，不饱和(减饱和度)
    4. 色彩曲线调整(关键)
        * 中间位置拉高(但是避免过曝)黑色调拉灰
    5. 曲线调色 整体色调偏青蓝
        * 去红色 - 只动中间的红色，拉低
            * (因为需要保持高明度的灰和黑保持纯正的颜色)
        * (如果想要更绿)加一点绿色
    6. 复古-肤色偏黄
        * 减少绿色成分



# Others

### 无反是未来！(暴论)

* 单反的全称是: 单镜头反光镜成像相机
    * 内部是有一个反光镜的，光线通过反光镜到五棱镜再到取景窗
    * 内部大多数是机械部件，导致了单反相机：体积重量相对大，更新换代相对较快
    * 然而，看着PRO
* 无反：无反光镜成像相机
    * 光线经过透镜直接成像在感光元件(CMOS)上
    * 多数是电子设备
* 做一个不太恰当的类比，机械硬盘和固态硬盘，当前时代电子设备从多种层面优于机械

### 为什么手机的像素高但是效果不如相机呢

* 主流相机的像素在2k万左右,小米10号称是1亿像素
* 像素可以理解为是分辨率,核心原因是由于**画幅大小手机和单反差太远了**,导致实际的成像效果还是不足
    * ![](https://github.com/A-suozhang/MyPicBed/raw/master//img/20200423185812.png)
* 实际的成像效果基本和进光量成**正相关**
    * 原因在于我们可以利用信噪比来解释
    * 感光元件(CMOS)存在噪声,所以进光量(有效信号)大了,信噪比才能高,实际的成像效果才能好
    * 感光元件CMOS可以建模成一个ADC-光子辐射到感光元件产生电子流动,产生电压,就获得了电信号
* 实际相机在感光的CMOS之后一般还有一个DSP,用于矫正CMOS元件的一些物理特性
    * 这个DSP还会把输入的像素级别的信息进行一个降采样(怎么降采样的就有很多操作空间了,怎么突出轮廓等)
    * 将24000k像素,降采样为2k分辨率的raw图像(色深上不清楚是不是也有降维)

* Raw文件
    * raw文件是无压缩文件,比JPEG有更多的色深(12-bit>8bit)
    * 还会保留下曝光时候的信息,可以调节白平衡,过曝或者欠曝所丢失的信息实际上是被在raw文件中保留下的
    * ![](https://github.com/A-suozhang/MyPicBed/raw/master//img/20200423202536.png)
        * Tiff文件介于jpg和raw之间,相当于经过jpeg压缩之前的jpg图片,是**无损压缩**,但是因为色深已经降到了8,没有冗余因此不能调节白平衡
        * PNG也是无损格式,其特点在于透明
    * RAW文件所存储的其实严格意义来说并不是色彩信息,而是**CMOS/CCD传感器在每个像素点上的电信号强度(由光源信号转化而来)**
        * 因此其并没有色域的概念,在PC上打开Raw文件的时候已经经过了对应的色域转换与解析
    

* 色彩格式
    * 一般的情况,RGB各8-bit(0-255),组合起来共有24(8*3)位色 - (0,0,0)就是纯黑,这也是一般的图形模式所记录的信息,即为**图像需要表达的色彩信息**
    * 医学的黑白影像,单色,只有单通道.但是对于色深需要更深,可能会有16bit,但是显示器实际只能显示8bit,所以就在色度上进行一个clamp,改变这个clamp的基调就是在改变能够显示的动态范围(这个clamp range,或者说是一个bias,就是**如何显示颜色的信息**)
    * 与上类似,RAW的色深也不止8-bit,
        * 白平衡本质上其实就是一种"白色矫正" - 由于传感器并没有像人脑一样根据周围环境光来判定物体的实际颜色的作用(黄光打白纸对传感器来说就是黄纸)
        * 我们调节白平衡,就是在调这个dynamic range,对于一般的(JPG)照片由于并没有冗余的信息,所以一旦调节clamp一定会存在over/underflow error,导致调整的过程中就会产生失真.而由于raw有了冗余信息,所以就没有error


* 镜头
    * 15-45 / 18-55 焦距范围(变焦镜头)
        * 35 mm一个焦段，定焦镜头
    * 3.5-5.6 光圈范围(并不是最大与最小光圈，而是最大最小就焦距时的光圈大小)
        * 非恒定光圈镜头 - 变焦浮动光圈：对于**变焦镜头，随着焦距的变化，光圈也随之变化**
            * 变焦镜头由于各种限制，光圈不能太大
            * 比如1855 - 
                * 广角端拍风景，小光圈(大F值)
                * 长焦端，焦距变大 
        * 恒定光圈镜头 - 成像质量更好
    * IS - 防抖
        * VR/OSS/OS/VC 不同厂家的不同防抖标识
    * AF/MF - 对焦模式
    * USM - 对焦马达
    * EF-S 卡口类型
    * 0.39m/ 最近对焦距离
    * Phai52 - 直径
        * 配合UV镜要买这个尺寸的

* 画幅
    * 原本概念起源于前数码相机时代胶片的标准尺寸,后被引申为CMOS感光元件的尺寸大小
        * 135胶卷 - 全画幅
        * APS胶卷 - 半画幅
    * 大多数镜头都是全画幅设计的，用在半画幅相机上焦段需要乘上一个转化系数
    * 视野范围，噪点控制上更好
        

    
